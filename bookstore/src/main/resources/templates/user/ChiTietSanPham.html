<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layoutchung/mainLayout}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>

    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"/>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0"/>
    <link rel='stylesheet' href='https://unpkg.com/owl.carousel@2.3.4/dist/assets/owl.carousel.min.css'>
    <link rel="stylesheet" href="/user/css/ChiTietKhuyenMai.css">
</head>
<body>
<article layout:fragment="noiDung">
    <form th:action="@{/gio-hang/them-san-pham-vao-gio}" method="post">
        <div class="type-product" th:each="sm : ${listSach}">

            <div class="product-main">
                <input type="hidden" name="idSach" id="idSach" th:value="${sm.idSach}"/>
                <div class="box-img">
                    <img th:src="${sm.linkAnh1}" width="460px" height="460px" alt="product"/>
                    <img th:src="${sm.linkAnh2}" width="88px" height="88px" alt="item"/>
                    <img th:src="${sm.linkAnh3}" width="88px" height="88px" alt="item"/>
                    <img th:src="${sm.linkAnh4}" width="88px" height="88px" alt="item"/>
                    <img th:src="${sm.linkAnh5}" width="88px" height="88px" alt="item"/>
                </div>
                <div class="product-infor">
                    <div class="txt-name" th:text="${sm.tenSach}"></div>
                    <div class="btn-right">
                        <div class="btn-cust btn-love">
                            <i class="fa fa-heart" aria-hidden="true"></i>
                        </div>

                    </div>
                    <!--                <div class="box-price" th:if="${not #lists.isEmpty(sm.khuyenMais)}">-->
                    <!--                    <div th:with="firstPromotion=${sm.khuyenMais[0]}">-->
                    <!--                        <span class="price-sale" th:text="${sm.giaBan - firstPromotion.soPhanTramGiamGia} + 'đ'"></span>-->
                    <!--                        <span class="price-origin" th:text="${sm.giaBan} + 'đ'"></span>-->
                    <!--                        <span class="per-sale btn btn-warning" th:text="${firstPromotion.soPhanTramGiamGia + '%'}"></span>-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <div class="box-price" th:if="${not #lists.isEmpty(sm.khuyenMais)}">
                        <div th:with="firstPromotion=${sm.khuyenMais[0]}">
                            <span class="price-sale" th:if="${firstPromotion.trangThai == 1}"
                                  th:text="${sm.giaBan - firstPromotion.soPhanTramGiamGia} + 'đ'"></span>
                            <span class="price-sale" th:unless="${firstPromotion.trangThai == 1}"
                                  th:text="${sm.giaBan + 'đ'}"></span>
                            <span class="price-origin" th:text="${sm.giaBan} + 'đ'"></span>
                            <span class="per-sale btn btn-warning" th:if="${firstPromotion.trangThai == 1}"
                                  th:text="${firstPromotion.soPhanTramGiamGia + '%'}"></span>
                        </div>
                    </div>

                    <p class="txt-cate">Số lượng tồn kho:
                        <span th:text="${sm.soLuongTonKho}"></span>
                    </p>
                    <div th:if="${not #lists.isEmpty(sm.theLoais)}">
                        <p class="txt-color">
                            <span class="txt1">Thể Loại:</span>
                            <span class="txt2" th:text="${sm.theLoais[0].tenTheLoai}"></span>
                            <span th:each="otherGenre, iterStat : ${sm.theLoais}" th:if="${iterStat.index > 0}">
                            <span th:text="${', ' + otherGenre.tenTheLoai}"></span>
                        </span>
                        </p>
                    </div>
                    <div th:if="${not #lists.isEmpty(sm.tacgia)}">
                        <p class="txt-color">
                            <span class="txt1">Tác Giả:</span>
                            <span class="txt2" th:text="${sm.tacgia[0].hoVaTen}"></span>
                            <span th:each="otherAuthor, iterStat : ${sm.tacgia}" th:if="${iterStat.index > 0}">
                            <span th:text="${', ' + otherAuthor.hoVaTen}"></span>
                        </span>
                        </p>
                    </div>
                    <p class="txt-cate">Số lượng mua hàng:</p>
                    <div class="soLuong">
                        <input class="form-control" value="1" id="soLuongCanMua" name="soLuongCanMua" type="number"/>
                    </div>

                    <div class="product-bottom">
                        <div class="extra-img">
                            <div class="btn-order">
                                <a href="">Mua ngay</a>
                            </div>
                        </div>
                        <div class="box-btn">
                            <button type="submit" class="btn-add">
                                <i class="fa fa-cart-plus" aria-hidden="true"></i>
                                Thêm vào giỏ hàng
                            </button>
                        </div>

                    </div>


                </div>
            </div>


        </div>
    </form>
    <!--    <div class="type-product" id="type1" th:each="sachKhuyenMai : ${chitietkhuyenmai}">-->
    <!--        <div class="product-main" th:each="sachKhuyenMai2 : ${sachKhuyenMai.sachs}" >-->
    <!--            <div class="box-img">-->
    <!--                <img th:src="${sachKhuyenMai2.linkAnh1}" alt="Chưa có ảnh hiển thị" width="460px" height="460px" />-->
    <!--                <img th:src="${sachKhuyenMai2.linkAnh2}" alt="Chưa có ảnh hiển thị" width="100px" height="100px" />-->
    <!--                <img th:src="${sachKhuyenMai2.linkAnh3}" alt="Chưa có ảnh hiển thị" width="100px" height="100px" />-->
    <!--                <img th:src="${sachKhuyenMai2.linkAnh4}" alt="Chưa có ảnh hiển thị" width="100px" height="100px" />-->
    <!--                <img th:src="${sachKhuyenMai2.linkAnh5}" alt="Chưa có ảnh hiển thị" width="100px" height="100px" />-->
    <!--            </div>-->
    <!--                <div class="product-infor">-->
    <!--                <div class="txt-name" th:text="${sachKhuyenMai2.tenSach}">-->
    <!--                </div>-->
    <!--                <div class="btn-right">-->
    <!--                    <div class="btn-cust btn-love">-->
    <!--                        <i class="fa fa-heart" aria-hidden="true"></i>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--                <div class="box-price">-->
    <!--                    <span class="price-sale" th:text="${sachKhuyenMai2.giaBan - (sachKhuyenMai.soPhanTramGiamGia)} + 'đ'"></span>-->
    <!--                    <span class="price-origin" th:text="${sachKhuyenMai2.giaBan} + 'đ'"></span>-->
    <!--                    <span class="per-sale" th:text="${sachKhuyenMai.soPhanTramGiamGia} +'%'"></span>-->
    <!--                </div>-->
    <!--&lt;!&ndash;                <p class="txt-color"><span class="txt1">Thể Loại:</span><span class="txt2"th:each="sachTL : ${theLoai}"  th:text="${sachTL.idTheLoai}"&ndash;&gt;-->
    <!--&lt;!&ndash;                                                                              th:text="${sachTL.tenTheLoai}" th:selected="${sachKhuyenMai2.theLoais.contains(sachTL)}"></span></p>&ndash;&gt;-->
    <!--&lt;!&ndash;                <p class="txt-color"><span class="txt1">Tác Giả:</span><span class="txt2" th:text="${sachKhuyenMai2.tacgia.hoVaTen}"></span></p>&ndash;&gt;-->
    <!--                <p class="txt-cate">Số lượng</p>-->
    <!--                <div class="box-number">-->
    <!--                    <span class="txt-sub" onclick="changeNumberProductType('sub')">-</span>-->
    <!--                    <input type="tel" th:value="${sachKhuyenMai2.soLuongTonKho}"  />-->
    <!--                    <span class="txt-plus" onclick="changeNumberProductType('plus')">+</span>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--        <div class="product-bottom">-->

    <!--            <div class="box-btn">-->
    <!--                <div class="btn-add">-->
    <!--                    <i class="fa fa-cart-plus" aria-hidden="true"></i>-->
    <!--                    Thêm vào giỏ hàng-->
    <!--                </div>-->
    <!--                <div class="btn-order">-->
    <!--                    Mua ngay-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->
</article>

</body>
<script src="/user/js/ChiTietKhuyenMai.js"></script>
</html>